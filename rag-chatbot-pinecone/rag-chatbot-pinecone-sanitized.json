{
  "name": "RAG | Chatbot | Advanced",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "[REDACTED]",
      "typeVersion": 1.2,
      "position": [
        -96,
        288
      ],
      "id": "275f348e-d050-4ca3-ad68-c4516ea1baea",
      "name": "[REDACTED]",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "typeVersion": 1,
      "position": [
        32,
        464
      ],
      "id": "b8c9d46a-2f2c-43f1-a396-477218abd7f6",
      "name": "Recursive Character Text Splitter"
    },
    {
      "parameters": {
        "mode": "insert",
        "pineconeIndex": {
          "__rl": true,
          "value": "[REDACTED]",
          "mode": "list",
          "cachedResultName": "[REDACTED]"
        },
        "options": {
          "clearNamespace": false,
          "pineconeNamespace": "={{ $('Get Content').item.json.name }}"
        }
      },
      "type": "[REDACTED]",
      "typeVersion": 1.3,
      "position": [
        -96,
        80
      ],
      "id": "30eeb4e6-11e6-4e65-adf6-def0fc1d3970",
      "name": "[REDACTED]",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "dataType": "binary",
        "textSplittingMode": "custom",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        32,
        288
      ],
      "id": "4bc84e44-5186-465f-bf83-0c724479680e",
      "name": "Default Data Loader"
    },
    {
      "parameters": {
        "resource": "fileFolder",
        "returnAll": true,
        "filter": {
          "folderId": {
            "__rl": true,
            "value": "1J",
            "mode": "list",
            "cachedResultName": "RAG Documents",
            "cachedResultUrl": "https://drive.google.com/drive/folders/"
          }
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -768,
        64
      ],
      "id": "dcaa1548-a987-43d4-be63-ff00a453739d",
      "name": "Search files and folders",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "={{ $json.id }}",
          "mode": "id"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -560,
        64
      ],
      "id": "78efbf01-51bb-4bfe-a6d0-780ea0334990",
      "name": "Get Content",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -320,
        64
      ],
      "id": "99247e37-a5da-446f-9b76-5cb789199cac",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "options": {}
      },
      "type": "[REDACTED]",
      "typeVersion": 1.2,
      "position": [
        -1136,
        656
      ],
      "id": "7a50733b-29e8-425d-84c5-20254b10e6fe",
      "name": "[REDACTED]",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -1024,
        768
      ],
      "id": "4b0bfde0-6b8e-47db-8055-ba44231a744e",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "[REDACTED]",
      "typeVersion": 1.2,
      "position": [
        -816,
        864
      ],
      "id": "5f03dcef-4afd-41ce-9686-40df1a9878eb",
      "name": "[REDACTED]",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "[REDACTED]",
      "typeVersion": 1.2,
      "position": [
        304,
        864
      ],
      "id": "9283a548-fa2a-4905-88f8-cf8d96d36c14",
      "name": "[REDACTED]",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "[REDACTED]",
      "typeVersion": 1.2,
      "position": [
        16,
        864
      ],
      "id": "c8bc162e-f284-474e-842b-c191d3e53d8b",
      "name": "[REDACTED]",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "[REDACTED]",
      "typeVersion": 1.2,
      "position": [
        -256,
        864
      ],
      "id": "dbef7f53-3568-4ea6-ad62-909e37fd4db1",
      "name": "[REDACTED]",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "[REDACTED]",
      "typeVersion": 1.2,
      "position": [
        -544,
        864
      ],
      "id": "a4cbabdb-8ef5-4625-950c-84a6a266fed1",
      "name": "[REDACTED]",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Call this tool to access the FAQ Policy.",
        "pineconeIndex": {
          "__rl": true,
          "value": "[REDACTED]",
          "mode": "list",
          "cachedResultName": "[REDACTED]"
        },
        "options": {
          "pineconeNamespace": "FAQ"
        }
      },
      "type": "[REDACTED]",
      "typeVersion": 1.3,
      "position": [
        -896,
        656
      ],
      "id": "dce98402-f18f-44da-afa9-1057dee18b07",
      "name": "FAQ",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Call this tool to access the terms of service.",
        "pineconeIndex": {
          "__rl": true,
          "value": "[REDACTED]",
          "mode": "list",
          "cachedResultName": "[REDACTED]"
        },
        "options": {
          "pineconeNamespace": "Terms of Service"
        }
      },
      "type": "[REDACTED]",
      "typeVersion": 1.3,
      "position": [
        -624,
        656
      ],
      "id": "f06fb8ec-7871-4301-ab4f-99aafa81923c",
      "name": "TermsOfService",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Call this tool to access the privacy and cookie policy.",
        "pineconeIndex": {
          "__rl": true,
          "value": "[REDACTED]",
          "mode": "list",
          "cachedResultName": "[REDACTED]"
        },
        "options": {
          "pineconeNamespace": "Privacy & Cookie Policy"
        }
      },
      "type": "[REDACTED]",
      "typeVersion": 1.3,
      "position": [
        -336,
        656
      ],
      "id": "fecc3aad-5e2c-47e2-bbed-2e015eb0d0bd",
      "name": "PrivacyAndCookiePolicy",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Call this tool to access the ESG Policy",
        "pineconeIndex": {
          "__rl": true,
          "value": "[REDACTED]",
          "mode": "list",
          "cachedResultName": "[REDACTED]"
        },
        "options": {
          "pineconeNamespace": "ESG Policy"
        }
      },
      "type": "[REDACTED]",
      "typeVersion": 1.3,
      "position": [
        -64,
        656
      ],
      "id": "7547cf1a-24ab-42e7-b6bf-b9bab557f01f",
      "name": "ESGPolicy",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Call this tool to access the data retention policy.",
        "pineconeIndex": {
          "__rl": true,
          "value": "[REDACTED]",
          "mode": "list",
          "cachedResultName": "[REDACTED]"
        },
        "options": {
          "pineconeNamespace": "Data Retention Policy"
        }
      },
      "type": "[REDACTED]",
      "typeVersion": 1.3,
      "position": [
        224,
        656
      ],
      "id": "1c49e44d-d696-4572-baf6-d601e91d678a",
      "name": "DataRetentionPolicy",
      "credentials": "[REDACTED]"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "[REDACTED]"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        -624,
        448
      ],
      "id": "9d5c79dc-5022-48b3-b365-4c03072ffd9b",
      "name": "RAG Agent"
    },
    {
      "parameters": {
        "path": "0e7e2b94-eaeb-432c-8bfc-79965860c8ee",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -816,
        448
      ],
      "id": "f37e295a-fe5d-4fce-ba20-85814a8a0444",
      "name": "Webhook1",
      "webhookId": "[REDACTED]"
    },
    {
      "parameters": {
        "respondWith": "text",
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        -320,
        448
      ],
      "id": "225e54e9-ee3a-4ef3-abbb-8a5e4033136a",
      "name": "Respond to Webhook1"
    },
    {
      "parameters": {
        "pollTimes": {
          "item": [
            {
              "mode": "everyMinute"
            }
          ]
        },
        "triggerOn": "specificFolder",
        "folderToWatch": {
          "__rl": true,
          "value": "1J",
          "mode": "list",
          "cachedResultName": "RAG Documents",
          "cachedResultUrl": "https://drive.google.com/drive/folders/"
        },
        "event": "fileUpdated",
        "options": {}
      },
      "type": "n8n-nodes-base.googleDriveTrigger",
      "typeVersion": 1,
      "position": [
        -976,
        64
      ],
      "id": "3ce5cdcd-d548-4c56-8eda-6ef4b9a977d5",
      "name": "Google Drive Trigger",
      "credentials": "[REDACTED]"
    }
  ],
  "pinData": {},
  "connections": {
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "[REDACTED]",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Recursive Character Text Splitter": {
      "ai_textSplitter": [
        [
          {
            "node": "Default Data Loader",
            "type": "ai_textSplitter",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "[REDACTED]",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Search files and folders": {
      "main": [
        [
          {
            "node": "Get Content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Content": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "[REDACTED]",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store1": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI1": {
      "ai_embedding": [
        [
          {
            "node": "FAQ",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI2": {
      "ai_embedding": [
        [
          {
            "node": "DataRetentionPolicy",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI3": {
      "ai_embedding": [
        [
          {
            "node": "ESGPolicy",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI4": {
      "ai_embedding": [
        [
          {
            "node": "PrivacyAndCookiePolicy",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI5": {
      "ai_embedding": [
        [
          {
            "node": "TermsOfService",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "FAQ": {
      "ai_tool": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "TermsOfService": {
      "ai_tool": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "PrivacyAndCookiePolicy": {
      "ai_tool": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "ESGPolicy": {
      "ai_tool": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "DataRetentionPolicy": {
      "ai_tool": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "RAG Agent": {
      "main": [
        [
          {
            "node": "Respond to Webhook1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook1": {
      "main": [
        [
          {
            "node": "RAG Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive Trigger": {
      "main": [
        [
          {
            "node": "Search files and folders",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "9961d30d-89a5-4257-ab4b-19889f3c1a2f",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "60893c01af53b3d0c4f03fea4d56323aee2aca3e9f48cdcff401ca79b8693694"
  },
  "id": "LBvsUzGSGGDGHtbc",
  "tags": [
    {
      "createdAt": "2025-07-14T16:31:31.327Z",
      "updatedAt": "2025-07-14T16:31:31.327Z",
      "id": "CP3aEFNeOuhaag2l",
      "name": "[REDACTED]"
    }
  ]
}